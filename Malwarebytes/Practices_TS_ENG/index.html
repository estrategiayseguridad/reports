<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF</title>
    <style>
        /* Fuente de letra */

        @font-face {
            font-family: 'PoppinsP';
            src: url('./Poppins/Poppins-Regular.ttf') format('truetype');
        }

        @font-face {
            font-family: 'PoppinsT';
            src: url('./Poppins/Poppins-Black.ttf') format('truetype');
        }

        h1 {
            font-family: 'PoppinsT', Poppins-Black;
            color: white;
            font-size: 34px;
        }

        h2 {
            font-family: 'PoppinsT', Poppins-Black;
            color: white;
            font-size: 25px;
            line-height: 4px;
        }

        p {
            font-family: 'PoppinsP', Poppins-Regular;
            font-size: 16px;
            color: white;
            text-align: justify;
        }

        /* Fondo del PDF */

        .bosdy {
            background-image: url('./img/fondoPagina.jpg');
            background-size: contain;
            background-color: rgb(255, 255, 255);
            /* z-index: -1; */
            padding-left: 35px;
            padding-right: 35px;
            padding-bottom: 80px;
        }

        /* Portada */

        .portada {
            height: 1133px;
            width: 800px;
            z-index: -1;
            position: absolute;
            bottom: 0;
            top: 0;
            right: 0;
            left: 0;
        }

        /* Dise√±o de las tablas */

        table {
            width: 100%;
            border-collapse: collapse;
            background: linear-gradient(to left, #003583, #0079C6);
        }

        td {
            padding: 8px;
            text-align: left;
            border: 1px solid #1FBDF9;
            font-family: 'PoppinsP', Poppins-Regular;
            font-size: 16px;
            color: white;
        }

        th {
            padding: 8px;
            border: 1px solid #1FBDF9;
            font-family: 'PoppinsT', Poppins-Black;
            text-align: center;
            color: white;
            font-size: 18px;
        }

        /* Salto de pagina */

        .salto {
            page-break-before: always;
        }

        /* Limite de texto en tablas */

        #limited-text {
            table-layout: fixed;
        }

        #limited-text td {
            max-width: 30px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* Salto de pagina para tablas dinamicas */

        .page-break {
            page-break-after: always;
        }

        /* Ancho deseado para cada columna */

        .column-width {
            width: 150px;
        }

        /* Contendores de las graficas */

        .chartContenedor {
            background-color: #18587f80;
            position: static;
            width: 1150;
            height: 600;
        }
    </style>
</head>

<body class="bosdy">


    <!-- PORTADA -->

    <div>
        <img src="./img/portada.png" alt="portada" class="portada">
    </div>

    <div> <br> </div>
    <div class="salto"></div>

    <br>

    <!-- INICIO DEL REPORTE -->

    <!-- <div>
        <h1 style="text-align: center;">
            Best Practices Review Malwarebytes Console
        </h1>
    </div> -->

    <!-- PUNTO 1. ACTUALIZAR EL AGENTE DE MALWAREBYTES -->
    <div>
        <h2>
            1. Remove threats thar are in quarentine
        </h2>

        <div>
            <p style="display: inline;margin-bottom: 5px;">
                The total of threats in quarantine is:
            </p>
            <p style="display: inline;"><span class="totalQuarantine">300</span></p>
        </div><br>

        <div id="barChartTop" class="chartContenedor"></div><br>

        <div class="punto1"></div><br>

        <h2>Recommendation</h2>
        <p>
            Delete quarantined files once you have confirmed that they are malware threats and you no longer need to
            keep them. This helps free up space on your hard drive and reduces the risk of files re-infecting your
            computer. For more information check the platform.
        </p>

    </div>

    <div class="salto"></div>

    <br>

    <!-- PUNTO 2. EVALUAR ENDPOINTS INACTIVOS -->
    <div>
        <h2>
            2. Assess Inactive Endpoints
        </h2>

        <p>
            Validate endpoint inactivity
        </p>

        <div id="tabla2"></div>

        <br>

        <h2>Recommendation</h2>
        <p>
            Verify that the endpoint has an internet connection, and that the malwarebytes service is running, this
            to
            improve the connection between endpoint and console, this to have the detection record in real time.
        </p>
    </div>

    <!-- <div class="salto"></div> -->

    <br><br>

    <!-- PUNTO 3. REALIZAR ESCANEOS -->
    <div>
        <h2>
            3. Perform scans
        </h2>

        <div id="tabla3"></div>

        <br>

        <h2>Recommendation</h2>
        <p>
            Run regular scans on Malwarebytes to detect and remove any malware threats that may have infected your
            computer. These scans can help identify and remove any malware that may be affecting your computer's
            performance or compromising your privacy and security.
        </p>
    </div>

    <!-- PUNTO 4. ELIMINAR AMENAZAS QUE SE ENCUENTRAN EN CUARENTENA -->

    <!-- <div class="salto"></div> -->



    <div>
        <h2>
            4. Update Malwarebytes Agent
        </h2>

        <div id="tabla4"></div>


        <h2>Recommendation</h2>
        <p>
            Update the agent as it is the part of the software that is responsible for communicating with the
            Malwarebytes server and getting virus definition updates and other important updates. Make sure that the
            software has the latest version available to ensure optimal protection against malware threats and for this
            software to function properly on the system.
        </p>
    </div>

    <!-- <div class="salto"></div> -->

    <br><br>

    <!-- PUNTO 5. REALIZAR REINICIOS REQUERIDOS POR MALWAREBYTES -->
    <div>
        <h2>
            5. Perform resets required by Malwarebytes
        </h2>

        <div id="tabla5"></div>

        <br>

        <h2>Recommendation</h2>
        <p>
            Malwarebytes may require a system reboot to install important software updates and also after a scan to
            complete the removal of any remaining malware files and fully clean your computer.
        </p>
    </div>

    <!-- <div class="salto"></div> -->

    <br><br>

    <!-- PUNTO 6. TIENE INSTALADO OTRO ANTIVIRUS O ANTIMALWARE -->

    <div>
        <h2 style="line-height: 30px;">
            6. You have another antivirus or anti-malware installed
        </h2>

        <h2>Recommendation</h2>
        <p>
            Disable or remove an additional antivirus program to Malwarebytes since having these active at the same
            time
            in an endpoint can conflict since they constantly work to detect and eliminate malware and would be
            doing so
            at the same time, an antivirus can detect a file as malicious while that the other program marks it as
            safe.
            This can lead to slower system performance, file crashes, and other issues.
        </p>
        <p>
            If in this case you want to leave the additional antivirus:
        </p>
        <p>
            Turn off Windows Defender's on-access scanning feature because Malwarebytes works as the primary
            antivirus
            program on your computer.
        </p>
        <p>
            Attached is how to create exclusions in windows for McAfee:
            https://service.malwarebytes.com/hc/en-us/articles/4413789721235
        </p>
    </div>

    <br>

    <!-- RECOMENDACIONES GENERALES -->

    <div>
        <h2>
            General recommendations
        </h2>

        <p>
            Coordinate with the users that it is necessary to carry out these procedures so that the Malwarebytes
            protection can cover the endpoint and likewise will be protecting the information assets that they
            manage
            within the company.
        </p>
        <p>
            Delete the agent in the endpoints that are not being used and add the agent to the endpoint that they
            are
            using, remembering that additional antivirus configurations must be made and in Mac devices give full
            access
            to the disk.
        </p>
        <p>
            *general recommendations depend on the client
        </p>
    </div>

    <!-- CONFIDENCIAL -->

    <div class="salto"></div>

    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>

    <div>
        <h2 style="text-align: center; opacity: 75%;">
            CONFIDENTIAL
        </h2>
        <p style="text-align: center; opacity: 75%;">
            This communication contains privileged, reserved and confidential information for the exclusive use of
            the
            recipient. Distribution, disclosure, dissemination, copying or other use by third parties is prohibited.
        </p>
    </div>

    <script>

        // Punto 1

        // Array de datos para crear las filas
        var datos = [
            ["PUP.Optional.MediaNewTab", 12],
            ["Adware.SearchEngineHiajck.Generic", 14],
            ["Adware.SearchEngineHiajck.Generic", 12],
            ["PUP.Optional.MediaNewTab", 34],
            ["Adware.SearchEngineHiajck.Generic", 30],
            ["Adware.SearchEngineHiajck.Generic", 12],
            ["PUP.Optional.MediaNewTab", 23],
            ["Adware.SearchEngineHiajck.Generic", 21],
            ["Adware.SearchEngineHiajck.Generic", 22],
            ["PUP.Optional.MediaNewTab", 24]
        ];

        // T√≠tulos de columna
        var titulos = ["Threat name", "Quantity"];

        // N√∫mero de columnas en la tabla
        var columnas = titulos.length;

        // N√∫mero de filas por p√°gina
        var filasPorPagina = 10;

        // Obtener el elemento contenedor de la tabla
        var content = document.querySelector('.punto1');

        // Calcular el n√∫mero de p√°ginas
        var numPaginas = Math.ceil(datos.length / filasPorPagina);

        // Generar el HTML con los saltos de p√°gina y la tabla continua
        var contenidoConSaltos = '';

        if (datos.length <= filasPorPagina) {
            // Si el n√∫mero de datos no supera las filas por p√°gina, no se realiza el salto de p√°gina
            var tablaHTML = '<table>';

            tablaHTML += '<tr>';
            for (var j = 0; j < columnas; j++) {
                tablaHTML += '<th class="column-width" style="padding: 4px">' + titulos[j] + '</th>';
            }
            tablaHTML += '</tr>';

            for (var i = 0; i < datos.length; i++) {
                tablaHTML += '<tr>';
                for (var j = 0; j < columnas; j++) {
                    tablaHTML += '<td style="padding: 4px">' + datos[i][j] + '</td>';
                }
                tablaHTML += '</tr>';
            }

            tablaHTML += '</table>';

            contenidoConSaltos = tablaHTML;
        } 
        // Actualizar el contenido con los saltos de p√°gina y la tabla generada
        content.innerHTML = contenidoConSaltos;

        // TABLAS DINAMICAS

        let contadorLineasGeneral = 0
        let seccionactual = 0
        let parametros = {
            secciones: {
                1: 7,
                2: 9,
                3: 7,
                4: 3,
                5: 6,
            }
        }
        const lineasTotales = 24
        function generateRandomObject() {
            const object = {};
            // Generate a random number between 5 and 25 for the number of key-value pairs
            const numPairs = 3;
            // Helper function to generate a random key
            function generateRandomKey() {
                return "Key_" + Math.floor(Math.random() * 100);
            }
            // Helper function to generate a random value
            function generateRandomValue() {
                return "Value_" + Math.floor(Math.random() * 100);
            }
            // Fill the object with random key-value pairs
            for (let i = 0; i < numPairs; i++) {
                const key = generateRandomKey();
                const value = generateRandomValue();
                object[key] = value;
            }
            return object;
        }
        // CODIGO PAGINA UNO %%%%%%%%%%%
        //FILLED WITH generateRandomObject()
        
        var datosPagina2 = []
        var datosPagina3 = []
        var datosPagina4 = [] 
        var datosPagina5 = []
        
        for (let index = 1; index <= 29; index++) {
            datosPagina2.push(generateRandomObject())
        }
        for (let index = 1; index <= 150; index++) {
            datosPagina3.push(generateRandomObject())
        }
        for (let index = 1; index <= 18; index++) {
            datosPagina4.push(generateRandomObject())
        }
        // console.log(datosPagina4)
        for (let index = 1; index <= 18; index++) {
            datosPagina5.push(generateRandomObject())
        }

        let contenedorPunto2 = document.getElementById('tabla2')
        let contenedorPunto3 = document.getElementById('tabla3')
        let contenedorPunto4 = document.getElementById('tabla4')
        let contenedorPunto5 = document.getElementById('tabla5')

    
        function dividirArreglo(datos) {

            //console.log(datos)
            let numTablasInicial = datos.length - 18
            let numTablas = Math.ceil(numTablasInicial / 23)
            let slices = []
            cont = 0
            for (let i = 0; i <= numTablas; i++) {
                if (i == 0) {
                    slices[i] = datos.slice(0, 22)
                    cont += 22;

                }
                else {
                    slices[i] = datos.slice(cont, cont + 23);
                    //console.log(cont)
                    cont += 23
                    //console.log(cont)
                }

            }


            //console.log(slices)
            return slices;
        }
        function imprimirPagina(datos, contenedor) {//pagina UNO

            if (contadorLineasGeneral == 0) {
                seccionactual = 1
                //resto de c√≥digo
            }
            let html = ``
            // console.log(datos[0][0])

            for (var i = 0; i <= datos.length - 2; i++) {
                html += `<table>`
                for (var propiedad in datos[i]) {
                    html += `<tr><td>${JSON.stringify(datos[i][propiedad])}</td></tr>`
                    // console.log(datosTabla)
                };
                html += `</table>
                <div class="salto"></div><br><br>`
            };
            //poner if para si la ultima slice es >= 18 se imprima rec con salto
            //y else imprima rec sin salto
            for (var i = datos.length - 1; i <= datos.length - 1; i++) {
                html += `<table>`
                for (var propiedad in datos[i]) {
                    html += `<tr><td>${JSON.stringify(datos[i][propiedad])}</td></tr>`
                    // console.log(datosTabla)
                };
                html += `</table>`
            };
            //console.log(datos[datos.length - 1].length)
            contadorLineasGeneral = datos[datos.length - 1].length + 5

            contenedor.innerHTML = html
            return html;
        }


        // PUNTO 2

        // Array de datos para crear las filas
        let arreglo2 = dividirArreglo(datosPagina2)
        imprimirPagina(arreglo2, contenedorPunto2)


        // PUNTO 3

        // Array de datos para crear las filas
        let arreglo3 = dividirArreglo(datosPagina3)
        imprimirPagina(arreglo3, contenedorPunto3)

        // Punto 4

        // Array de datos para crear las filas
        let arreglo4 = dividirArreglo(datosPagina4)
        console.log(arreglo4)
        imprimirPagina(arreglo4, contenedorPunto4)

        // PUNTO 5

        // Array de datos para crear las filas
        let arreglo5 = dividirArreglo(datosPagina5)
        console.log(arreglo5)
        imprimirPagina(arreglo5, contenedorPunto5)

    </script>

    <!-- Script grafico -->

    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

    <script type="text/javascript">

        google.charts.load("current", { packages: ['corechart'] });
        google.charts.setOnLoadCallback(drawChart);

        function drawChart() {
            var data = google.visualization.arrayToDataTable([
                ['Estatus', 'Cantidad'],
                ['srvcendis24.cendis.cetrodistribuidor.com', 368],
                ['DEVUPD54CS06-1', 118],
                ['GT_ALMA_DOGM_02', 59],
                ['AI_ALMA_DTMX_01', 23],
                ['GT_CUIN_ASIS_01', 12],
                ['GT_BODE_TIEMP_01', 8],
                ['GT_DRCL_ANCO_01', 7],
                ['GT_DIRO_GEST_01', 6],
                ['GT_FARM_TELE_11', 4],
                ['GR_CXCP_ASIS_01', 3]
            ]);

            var options = {
                title: 'Top 10 Threats in quarantine',
                width: 750,
                height: 350,
                titleTextStyle: {
                    color: '#ffffff',
                    fontSize: 22
                },
                chartArea: {
                    width: '80%',
                    height: '80%'
                },
                backgroundColor: 'transparent',
                textStyle: {
                    color: '#ffffff',
                    fontSize: 12
                },
                hAxis: {
                    textStyle: {
                        color: '#ffffff',
                        fontSize: 12
                    }
                },
                vAxis: {
                    textStyle: {
                        color: '#ffffff',
                        fontSize: 12
                    }
                },
                data: {
                    textStyle: {
                        color: '#ffffff'
                    }
                },
                bar: { groupWidth: "95%" },
                legend: { position: "none" },
                colors: ['#1FBDF9']
            };

            var view = new google.visualization.DataView(data);
            view.setColumns([0, 1, {
                calc: 'stringify',
                sourceColumn: 1,
                type: 'string',
                role: 'annotation'
            }]);

            var chart = new google.visualization.ColumnChart(document.getElementById('barChartTop'));
            chart.draw(view, options);
        }
    </script>
</body>
<footer class="fixed" id="absolute">

</footer>

</html>